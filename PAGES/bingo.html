<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bingo de la Desgracia</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="../css/bingo.css">
</head>
<body class="bg-gray-900 text-white font-bold min-h-screen flex flex-col">

  <!-- HEADER -->
  <header class="sticky top-0 w-full bg-[#0f0a1a] shadow-md z-50">
    <div class="flex items-center justify-between p-4">
      <!-- Logo grande -->
      <div class="flex items-center gap-3">
        <img src="../ASSETS/bingo.png" alt="Logo" class="w-16 h-16 rounded-full object-cover neon-border neon-purple" />
        <h1 class="text-2xl font-bold text-[#ff6ec7]">Bingo Vil</h1>
      </div>

      <!-- Nav Desktop -->
      <div class="hidden md:flex items-center gap-6">
        <a href="../index.html" class="text-white hover:text-[#00f5ff] transition-colors">Inicio</a>
        <button id="juegosBtn" class="text-white hover:text-[#00f5ff] transition-colors">Juegos</button>

      </div>

      <!-- Botón hamburguesa Mobile -->
      <button id="menuToggle" class="md:hidden text-neon">
        <svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>

    <!-- Panel Juegos Desktop / Mobile -->
    <div id="juegosPanel" class="hidden fixed inset-0 bg-[#121012]/95 backdrop-blur-lg p-6 overflow-y-auto z-40">
      <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-6 max-w-6xl mx-auto md:auto-rows-min auto-rows-fr">
        <a href="../index.html"
          class="col-span-2 md:col-span-3 flex items-center justify-center text-white font-bold rounded-lg bg-gradient-to-r from-pink-300 to-[#00f5ff] hover:opacity-90 transition py-10 md:py-14">
          Inicio
        </a>
        <a href="./Lo_bancas.html"
          class="aspect-[3/2] flex items-center justify-center text-white font-bold rounded-lg bg-gradient-to-r from-pink-300 to-[#00f5ff] hover:opacity-90 transition">Lo
          bancas?</a>
        <a href="./Oraculo.html"
          class="aspect-[3/2] flex items-center justify-center text-white font-bold rounded-lg bg-gradient-to-r from-pink-300 to-[#00f5ff] hover:opacity-90 transition">El
          oráculo del pedo</a>
        <a href="./Ruleta.html"
          class="aspect-[3/2] flex items-center justify-center text-white font-bold rounded-lg bg-gradient-to-r from-pink-300 to-[#00f5ff] hover:opacity-90 transition">Ruleta
          de Vicios</a>
        <a href="./Vaso.html"
          class="aspect-[3/2] flex items-center justify-center text-white font-bold rounded-lg bg-gradient-to-r from-pink-300 to-[#00f5ff] hover:opacity-90 transition">El
          Vaso Del Destino</a>
        <a href="./Decilo.html"
          class="aspect-[3/2] flex items-center justify-center text-white font-bold rounded-lg bg-gradient-to-r from-pink-300 to-[#00f5ff] hover:opacity-90 transition">Decílo
          o Hacelo</a>
        <a href="./aproximate.html"
          class="aspect-[3/2] flex items-center justify-center text-white font-bold rounded-lg bg-gradient-to-r from-pink-300 to-[#00f5ff] hover:opacity-90 transition">Aproximate</a>
        <a href="./apurate.html"
          class="aspect-[3/2] flex items-center justify-center text-white font-bold rounded-lg bg-gradient-to-r from-pink-300 to-[#00f5ff] hover:opacity-90 transition">Apurate
          o Perde</a>
        <a href="./bingo.html"
          class="aspect-[3/2] flex items-center justify-center text-white font-bold rounded-lg bg-gradient-to-r from-pink-300 to-[#00f5ff] hover:opacity-90 transition">bingo vil</a>
        <a href="./boomerang.html"
          class="aspect-[3/2] flex items-center justify-center text-white font-bold rounded-lg bg-gradient-to-r from-pink-300 to-[#00f5ff] hover:opacity-90 transition">Boomerang
          Maldito</a>
        <a href="./interrogatorio.html"
          class="aspect-[3/2] flex items-center justify-center text-white font-bold rounded-lg bg-gradient-to-r from-pink-300 to-[#00f5ff] hover:opacity-90 transition">El
          interrogatorio</a>
        <a href="./pueblo.html"
          class="aspect-[3/2] flex items-center justify-center text-white font-bold rounded-lg bg-gradient-to-r from-pink-300 to-[#00f5ff] hover:opacity-90 transition">La
          Voz Del Pueblo</a>
          <a href="./besar.html"
          class="aspect-[3/2] flex items-center justify-center text-white font-bold rounded-lg bg-gradient-to-r from-pink-300 to-[#00f5ff] hover:opacity-90 transition">Bes*r, C*ger, Mat*r</a>
        <a href="./reglas.html"
          class="col-span-2 md:col-span-3 flex items-center justify-center text-white font-bold rounded-lg bg-gradient-to-r from-pink-300 to-[#00f5ff] hover:opacity-90 transition py-10 md:py-14">
          Reglas
        </a>
        <a href="./contacto.html"
          class="col-span-2 md:col-span-3 flex items-center justify-center text-white font-bold rounded-lg bg-gradient-to-r from-pink-300 to-[#00f5ff] hover:opacity-90 transition py-10 md:py-14">
          Contacto
        </a>
      </div>      <div class="mt-6 flex justify-center">
        <button id="closePanel"
          class="px-6 py-3 rounded-lg bg-white text-black font-bold hover:bg-gray-200 transition">Cerrar</button>
      </div>
    </div>
  </header>

  <!-- PANTALLA INICIAL (Setup) -->
  <main id="setup-screen" class="flex-grow max-w-4xl mx-auto p-6 flex flex-col gap-8">
    
    <!-- Panel de Configuración -->
    <div class="bg-[#0f0a1a] rounded-lg p-6 ring-2 ring-[#00f5ff] shadow-[0_0_15px_#00f5ff]">
      <h2 class="text-2xl mb-6 text-center neon-border-blue">Configurar Juego</h2>
      
      <!-- Formulario Jugadores -->
      <div class="mb-8">
        <h3 class="text-xl mb-4 text-pink-300">Agregar Jugadores</h3>
        <form id="player-form" class="flex gap-2 mb-4">
          <input type="text" id="player-name" placeholder="Nombre del jugador" required
            class="flex-grow rounded-md px-3 py-2 bg-gray-800 text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-[#00f5ff]" />
          <button type="submit" class="rounded-full bg-gradient-to-r from-pink-300 to-[#00f5ff] text-white font-bold px-4 hover:opacity-90 transition-opacity">
            Agregar
          </button>
        </form>
        
        <div id="players-list" class="grid grid-cols-1 md:grid-cols-2 gap-2 max-h-48 overflow-y-auto">
          <!-- Jugadores se agregarán aquí -->
        </div>
      </div>

      <!-- Botón para empezar -->
      <button id="start-game" disabled
        class="w-full rounded-full text-lg font-bold bg-gradient-to-r from-pink-300 to-[#00f5ff] text-white px-8 py-3 opacity-50 hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed">
        ¡Comenzar Juego!
      </button>
    </div>

    <!-- Instrucciones -->
    <div class="bg-[#0f0a1a] rounded-lg p-6 ring-2 ring-pink-300 shadow-[0_0_15px_#ff6ec7] bg-black/50">
      <h2 class="text-2xl mb-4 text-center neon-border-pink">Instrucciones</h2>
      <ol class="list-decimal list-inside space-y-3 text-sm md:text-base">
        <li><span class="text-cyan-300">Agrega al menos 2 jugadores</span> para comenzar el juego</li>
        <li><span class="text-pink-300">Presiona "Siguiente Número"</span> para generar una desgracia</li>
        <li><span class="text-green-300">La desgracia se asigna aleatoriamente</span> a una casilla del tablero</li>
        <li><span class="text-yellow-300">Haz click en cualquier casilla</span> para seleccionarla</li>
        <li><span class="text-purple-300">Luego haz click en los nombres de jugadores</span> que tengan esa desgracia</li>
        <li><span class="text-pink-300">El primero en completar una fila o columna gana</span></li>
      </ol>
    </div>
  </main>

  <!-- PANTALLA DE JUEGO (hidden inicialmente) -->
  <main id="game-screen" class="hidden flex-grow max-w-7xl mx-auto p-6 flex flex-col gap-8">

    <!-- Panel de Desgracia Actual -->
    <div id="current-desgracia-panel" class="bg-[#0f0a1a] rounded-lg p-6 ring-4 ring-[#00f5ff] shadow-[0_0_20px_#00f5ff] text-center hidden">
      <h2 class="text-xl mb-4 text-pink-300">Desgracia Generada</h2>
      <div id="current-desgracia-text" class="text-2xl md:text-3xl font-bold text-cyan-300 animate-pulse-neon min-h-[4rem] flex items-center justify-center">
        <!-- Texto de la desgracia aparecerá aquí -->
      </div>
      <p class="text-sm text-gray-400 mt-2">Esta desgracia se ha asignado a una casilla aleatoria</p>
    </div>

    <!-- Panel Principal del Juego -->
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
      
      <!-- Tablero y Controles -->
      <div class="lg:col-span-3">
        <!-- Tablero -->
        <div class="bg-[#0f0a1a] rounded-lg p-4 ring-4 ring-[#00f5ff] shadow-[0_0_20px_#00f5ff] flex flex-col items-center mb-6">
          <h2 class="text-2xl mb-4 neon-border-blue">Tablero 7x7</h2>
          <div id="board" class="grid grid-cols-7 grid-rows-7 gap-1 w-full max-w-[28rem] aspect-square bg-black/50 rounded-md p-1 mb-4">
            <!-- 49 celdas generadas por JS -->
          </div>
          
          <!-- Bola actual y botón -->
          <div class="flex items-center gap-6">
            <div id="current-ball" class="relative w-16 h-16 flex items-center justify-center"></div>
            <button id="next-number" class="rounded-full text-lg font-bold bg-gradient-to-r from-pink-300 to-[#00f5ff] text-white px-6 py-2 animate-pulse-neon hover:opacity-90 transition-opacity">
              Siguiente Número
            </button>
          </div>
        </div>
        
        <!-- Estado del Juego -->
        <div id="game-status" class="bg-[#0f0a1a] rounded-lg p-4 ring-2 ring-pink-300 shadow-[0_0_15px_#ff6ec7] text-center">
          <p id="status-message" class="text-lg text-cyan-300">Presiona "Siguiente Número" para comenzar</p>
          <p id="selected-cell-info" class="text-sm text-gray-400 mt-1 hidden">Casilla seleccionada: <span id="selected-cell-number"></span></p>
        </div>
      </div>

      <!-- Panel de Jugadores -->
      <div class="bg-[#0f0a1a] rounded-lg p-4 ring-2 ring-[#00f5ff] shadow-[0_0_15px_#00f5ff]">
        <h2 class="text-xl mb-4 text-center neon-border-pink">Jugadores</h2>
        <div id="active-players" class="space-y-2 max-h-96 overflow-y-auto">
          <!-- Jugadores activos -->
        </div>
      </div>
    </div>

    <!-- Modal de Asignación (aparece cuando se selecciona casilla) -->
    <div id="assignment-modal" class="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 hidden">
      <div class="bg-[#0f0a1a] rounded-lg p-6 ring-4 ring-[#00f5ff] shadow-[0_0_20px_#00f5ff] max-w-md w-full mx-4">
        <h2 class="text-xl mb-4 text-center text-pink-300">Asignar Jugadores</h2>
        <p id="modal-desgracia" class="text-lg text-cyan-300 text-center mb-4"></p>
        <p class="text-sm text-gray-400 text-center mb-4">Selecciona los jugadores que tienen esta desgracia</p>
        
        <div id="modal-players" class="space-y-2 mb-4 max-h-48 overflow-y-auto">
          <!-- Jugadores para asignar -->
        </div>
        
        <div class="flex gap-2">
          <button id="modal-cancel" class="flex-1 bg-gray-700 text-white rounded-md px-4 py-2 hover:bg-gray-600 transition-colors">
            Cancelar
          </button>
          <button id="modal-confirm" class="flex-1 bg-gradient-to-r from-pink-300 to-[#00f5ff] text-white font-bold rounded-md px-4 py-2 hover:opacity-90 transition-opacity">
            Confirmar
          </button>
        </div>
      </div>
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="bg-black bg-opacity-60 backdrop-blur-lg border-t border-purple-900 text-gray-400 text-center py-4 select-none">
    © 2024 Bingo de la Desgracia - Juego social neón
  </footer>

  <script src="../js/bingo.js"></script>
</body>
</html>

