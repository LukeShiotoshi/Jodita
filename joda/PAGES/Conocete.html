<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dosis de Verdad</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="C:\Users\lukab\Desktop\joda\CSS\Stil.css">
</head>

<body class="">
    <header>
        <nav>
            <ul class="flex space-x-4 md:space-x-6">
                <li><a href="C:\Users\lukab\Desktop\joda\index.html" class="text-white hover:text-neon-blue transition-colors">Inicio</a></li>
                <li><a href="C:\Users\lukab\Desktop\joda\PAGES\Oraculo.html"
                        class="text-white hover:text-neon-blue transition-colors">El oraculo del pedo</a></li>
                <li><a href="C:\Users\lukab\Desktop\joda\PAGES\Ruleta.html"
                        class="text-white hover:text-neon-blue transition-colors">Ruleta de Vicios</a></li>
                <li><a href="C:\Users\lukab\Desktop\joda\PAGES\Vaso.html"
                        class="text-white hover:text-neon-blue transition-colors">El Vaso Del Destino</a></li>
                <li><a href="#" class="text-white hover:text-neon-blue transition-colors">Reglas</a></li>
                <li><a href="#" class="text-white hover:text-neon-blue transition-colors">Contacto</a></li>

            </ul>
        </nav>
    </header>
    <div class="container mx-auto max-w-2xl">
        <!-- Simplified Header -->
        <div class="flex justify-between items-center mb-6">
            <h1 class="text-3xl md:text-4xl font-bold text-white">Dosis de Verdad</h1>
        </div>

        <!-- Setup Form -->
        <div id="setup-form" class="app-card p-6 mb-6 fade-in">
            <h2 class="text-2xl font-bold mb-4">Configuración del juego</h2>

            <!-- Player setup -->
            <div class="mb-6">
                <label class="block mb-2 font-semibold">Jugadores</label>
                <div class="flex gap-4">
                    <div class="flex-1">
                        <input type="text" id="player-names" placeholder="Nombres separados por comas"
                            class="w-full p-2 border rounded focus:outline-none focus:ring focus:border-blue-300">
                        <p class="text-sm mt-1 text-gray-400">Ejemplo: Ana, Juan, Pedro</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <label class="text-sm mb-1">O elige jugadores anónimos</label>
                        <div class="flex border rounded overflow-hidden">
                            <button id="decrease-players"
                                class="px-3 py-1 bg-gray-800 hover:bg-gray-700 focus:outline-none">-</button>
                            <input type="number" id="player-count" min="2" max="20" value="4"
                                class="w-16 text-center border-none focus:outline-none">
                            <button id="increase-players"
                                class="px-3 py-1 bg-gray-800 hover:bg-gray-700 focus:outline-none">+</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Categories -->
            <div class="mb-6">
                <label class="block mb-2 font-semibold">Categorías</label>
                <div class="grid grid-cols-2 gap-3 mb-2">
                    <button class="category-btn active p-2 rounded-lg text-sm md:text-base" data-category="hot-dares">
                        <i class="fas fa-fire mr-2"></i>Retos Picantes
                    </button>
                    <button class="category-btn active p-2 rounded-lg text-sm md:text-base"
                        data-category="drinking-dares">
                        <i class="fas fa-glass-cheers mr-2"></i>Retos para Beber
                    </button>
                    <button class="category-btn active p-2 rounded-lg text-sm md:text-base"
                        data-category="uncomfortable-truths">
                        <i class="fas fa-comment-dots mr-2"></i>Verdades Incómodas
                    </button>
                    <button class="category-btn active p-2 rounded-lg text-sm md:text-base"
                        data-category="intimate-truths">
                        <i class="fas fa-heart mr-2"></i>Verdades Íntimas
                    </button>
                </div>
                <p class="text-sm text-gray-400">Selecciona al menos una categoría</p>
            </div>

            <!-- Start button -->
            <button id="start-game"
                class="btn-primary w-full py-3 font-bold rounded-lg shadow-lg transform transition hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"
                disabled>
                Comenzar Juego
            </button>
        </div>

        <!-- Challenge Card (Hidden initially) -->
        <div id="challenge-container" class="hidden">
            <div class="app-card p-6 mb-6 challenge-card flex flex-col justify-between fade-in">
                <div>
                    <div id="turn-info" class="mb-4 text-lg font-medium"></div>
                    <span id="challenge-category" class="category-label text-white"></span>
                    <h2 id="challenge-text" class="text-2xl md:text-3xl font-bold mb-6"></h2>
                </div>
                <div class="flex gap-4">
                    <button id="next-challenge"
                        class="btn-primary flex-1 py-3 text-white font-bold rounded-lg shadow-lg transform transition hover:scale-105">
                        Siguiente
                    </button>
                    <button id="restart-game"
                        class="bg-gray-200 hover:bg-gray-300 py-3 px-4 text-gray-800 font-bold rounded-lg shadow-lg transition">
                        <i class="fas fa-redo"></i>
                    </button>
                </div>
            </div>
        </div>

    </div>

    <script id="app-script">
        // filepath: c:\Users\lukab\Desktop\joda\Conocete.html
        document.addEventListener('DOMContentLoaded', function () {
            const startGameBtn = document.getElementById('start-game');
            const playerNamesInput = document.getElementById('player-names');
            const playerCount = document.getElementById('player-count');
            const decreaseBtn = document.getElementById('decrease-players');
            const increaseBtn = document.getElementById('increase-players');

            // Local challenges for each category
            const challenges = {
                'hot-dares': [
                    "Lame el cuello de la persona que elijas.",
                    "Mandá un mensaje hot a alguien del grupo (ellos eligen a quién).",
                    "Sacate una prenda (menos ropa interior).",
                    "Simulá un orgasmo frente al grupo.",
                    "Contá tu experiencia sexual más rara.",
                    "Elegí a alguien y tocá su abdomen por 10 segundos.",
                    "Decí en voz alta tu historial de búsquedas más hot.",
                    "Mandá un audio sexy diciendo lo primero que se te venga a la cabeza.",
                    "Describí tu posición sexual favorita sin decir su nombre.",
                    "Mandá un mensaje con doble sentido al último contacto que tengas en WhatsApp.",
                    "Tocá la pierna de alguien por debajo de la mesa por un minuto.",
                    "Decí en voz alta algo que te caliente mucho.",
                    "Chupá un dedo ajeno durante 5 segundos.",
                    "Bailá reggaetón lento con alguien del grupo.",
                    "Decí con quién tendrías una noche sin compromiso, acá y ahora.",
                    "Recreá una escena hot de una serie o película."
                ],

                'drinking-dares': [
                    "Tomá un trago con los ojos cerrados y sin manos.",
                    "Elegí a dos personas para hacer fondo blanco con vos.",
                    "Hacete un trago improvisado con lo que haya en la mesa.",
                    "Jugá piedra papel o tijera: el que pierde, toma tres.",
                    "Tirá un dado: si sacás número par, tomás doble.",
                    "Elegí a alguien para que tome en tu lugar y respondé una pregunta por ellos.",
                    "Imitá a alguien del grupo mientras tomás.",
                    "Decí algo ridículo y brindá por eso.",
                    "Tomá mientras hacés una declaración dramática.",
                    "Hacé fondo blanco sin fruncir la cara.",
                    "Hacé un brindis mencionando tres cosas random y tomá.",
                    "Intercambiá vaso con alguien y tomá sin chistar.",
                    "Elegí un objeto y brindá por él como si fuera tu ídolo.",
                    "Tomá con el codo apoyado en la frente.",
                    "Jugá piedra papel o tijera con alguien: el que pierde, toma el doble.",
                    "Poné una canción y tomá cada vez que digan una palabra específica."],

                'uncomfortable-truths': [
                    "¿Quién te cae peor del grupo?",
                    "¿Qué pensaste la primera vez que viste a tu crush?",
                    "¿Alguna vez hablaste mal de alguien de acá?",
                    "¿Preferís gustarle a todos o a nadie?",
                    "¿Qué parte de tu cuerpo te da vergüenza?",
                    "¿A quién nunca invitarías de nuevo a una joda?",
                    "¿Qué mentira dijiste últimamente y aún no confesaste?",
                    "¿Quién es el más falso del grupo?",
                    "¿A quién te chaparías solo por curiosidad?",
                    "¿Qué parte de vos te cuesta aceptar?",
                    "¿Alguna vez saboteaste a un amigo sin que se entere?",
                    "¿Qué secreto sabés de alguien acá y nunca contaste?",
                    "¿Alguna vez fuiste infiel o estuviste con alguien que lo fue?",
                    "¿Qué fue lo más raro que stalkaste en redes?",
                    "¿A quién del grupo bloquearías por una semana y por qué?",
                    "¿Preferís quedar mal con todos o traicionar a un amigo cercano?"
                ],

                'intimate-truths': [
                    "¿Te enamoraste alguna vez de alguien que no te dio bola?",
                    "¿Qué tipo de mensajes te calientan más?",
                    "¿Con cuántas personas chapaste?",
                    "¿Tenés una playlist para momentos íntimos?",
                    "¿Alguna vez lloraste por amor sin que nadie se entere?",
                    "¿Qué parte del cuerpo te gusta que te toquen más?",
                    "¿Preferís sexo con amor o sin compromiso?",
                    "¿Cuál fue tu primera fantasía sexual?",
                    "¿Tenés una fantasía que nunca contaste a nadie?",
                    "¿Con quién tuviste el mejor beso de tu vida?",
                    "¿Qué detalle te vuelve loco/a cuando alguien te gusta?",
                    "¿Alguna vez te enganchaste con alguien que sabías que no te convenía?",
                    "¿Te quedaste con ganas de algo después de una relación?",
                    "¿Preferís mil caricias o una sola mirada que diga todo?",
                    "¿Te gusta que te dominen o dominar?",
                    "¿Cuál fue el momento más íntimo que tuviste sin que haya contacto físico?"
                ]

            };

            function updateStartButtonState() {
                const hasPlayers = playerNamesInput.value.trim() !== '' || parseInt(playerCount.value) >= 2;
                const hasCategories = document.querySelectorAll('.category-btn.active').length > 0;
                startGameBtn.disabled = !(hasPlayers && hasCategories);
            }

            playerNamesInput.addEventListener('input', updateStartButtonState);

            decreaseBtn.addEventListener('click', function () {
                if (playerCount.value > 2) {
                    playerCount.value = parseInt(playerCount.value) - 1;
                    updateStartButtonState();
                }
            });

            increaseBtn.addEventListener('click', function () {
                if (playerCount.value < 20) {
                    playerCount.value = parseInt(playerCount.value) + 1;
                    updateStartButtonState();
                }
            });

            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', function () {
                    this.classList.toggle('active');
                    updateStartButtonState();
                });
            });

            updateStartButtonState();

            const setupForm = document.getElementById('setup-form');
            const challengeContainer = document.getElementById('challenge-container');
            const challengeCategory = document.getElementById('challenge-category');
            const challengeText = document.getElementById('challenge-text');
            const turnInfo = document.getElementById('turn-info');
            const nextChallengeBtn = document.getElementById('next-challenge');
            const restartGameBtn = document.getElementById('restart-game');

            let players = [];
            let currentPlayerIndex = 0;
            let selectedCategories = [];

            startGameBtn.addEventListener('click', function () {
                if (playerNamesInput.value.trim() !== '') {
                    players = playerNamesInput.value.split(',').map(name => name.trim()).filter(name => name !== '');
                } else {
                    players = Array.from({ length: parseInt(playerCount.value) }, (_, i) => `Jugador ${i + 1}`);
                }

                selectedCategories = [];
                document.querySelectorAll('.category-btn.active').forEach(btn => {
                    selectedCategories.push(btn.dataset.category);
                });

                setupForm.classList.add('hidden');
                challengeContainer.classList.remove('hidden');
                currentPlayerIndex = 0;

                getNextChallenge();
            });

            nextChallengeBtn.addEventListener('click', function () {
                currentPlayerIndex = (currentPlayerIndex + 1) % players.length;
                getNextChallenge();
            });

            restartGameBtn.addEventListener('click', function () {
                challengeContainer.classList.add('hidden');
                setupForm.classList.remove('hidden');
            });

            function getNextChallenge() {
                nextChallengeBtn.disabled = true;
                nextChallengeBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Cargando...';

                turnInfo.textContent = `Turno de: ${players[currentPlayerIndex]}`;

                // Pick a random category from selected
                const cat = selectedCategories[Math.floor(Math.random() * selectedCategories.length)];
                // Pick a random challenge from that category
                const challenge = challenges[cat][Math.floor(Math.random() * challenges[cat].length)];

                let categoryLabel = '', categoryClass = '';
                switch (cat) {
                    case "hot-dares":
                        categoryLabel = 'Reto Picante';
                        categoryClass = 'hot-dare';
                        break;
                    case "drinking-dares":
                        categoryLabel = 'Reto para Beber';
                        categoryClass = 'drink-dare';
                        break;
                    case "uncomfortable-truths":
                        categoryLabel = 'Verdad Incómoda';
                        categoryClass = 'uncomfortable-truth';
                        break;
                    case "intimate-truths":
                        categoryLabel = 'Verdad Íntima';
                        categoryClass = 'intimate-truth';
                        break;
                }

                setTimeout(() => {
                    challengeCategory.textContent = categoryLabel;
                    challengeCategory.className = 'category-label text-white ' + categoryClass;
                    challengeText.textContent = challenge;
                    nextChallengeBtn.disabled = false;
                    nextChallengeBtn.innerHTML = 'Siguiente';
                }, 500); // Simulate loading
            }
        });
    </script>
</body>

</html>